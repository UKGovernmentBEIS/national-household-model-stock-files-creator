Housing Survey Files
====================

This repository *may not* be distributed outside of CSE.

It contains the various housing surveys arranged in the folder structure
required for the
[R-nhm-stock-creator](<https://bitbucket.org/cse-bristol/r-nhm-stock-creator>).
It will be included in that repository as a
[submodule](<http://www.git-scm.com/book/en/v2/Git-Tools-Submodules>).

Plan
----

In the long run we should automate as much of this as possible, and
document whatever can't be automated. This applies to:

1.  How do we get this data.
2.  What pre-processing steps have been applied to it (this includes
    file renames).
3.  Separate the input and output data, creating separate folders for
    each, and possibly another for intermediate data.
4.  Remove any hard-coded paths and standardise how configuration is put
    in.

There isn't time to do any of this now, however.

Current state:
-----------------
Below is the currently approved commit tag to use for any Stock builds sent to DECC using
[NHM Stock files creator - R version](https://github.com/decc/national-household-model-stock-files-creator)

Approved commit tag: 


Imputation Schema
-----------------

imputation-schema.xlsx is for settings u-values and such on houses.

I believe it was made by us, and is supposed to include data from
SAP-2009 tables.

PCDB Lookup
-----------

England and Scotland both contain a number of CSV files which appear to
be related to the [Product Characteristics Database
(PCDB)](<http://www.ncm-pcdb.org.uk/sap/>), and are presumably part of
our heating system lookup mechanism.

We also produce an intermediate file mapping survey codes (aacode) to
boiler details. This should be moved to a separate folder, since it's
not input data, but we still need to keep it in the repository.

(PCDB was previously called SEDBUK.)

England
-------

Source(s)
* [English Housing Survey, 2012: Housing Stock Data (SN 7511)](http://discover.ukdataservice.ac.uk/catalogue?sn=7511)
* [English Housing Survey: Fuel Poverty Dataset, 2012 (SN 7539)](https://discover.ukdataservice.ac.uk/catalogue/?sn=7539)

It contains:

-   boilerLookups, which contains the PCDB lookup data - written by Toby Bridgemen - fillds in gaps from boiler matching
-   r~sedbuk~.csv, which contains the results of running the PCDB lookup - can be generated by r-scripts
    above. This is a mapping of survey code to boiler.
-   The contents of SN 7539 have been put into a sub-folder names fuel_poverty

Scotland
--------

Sources(s)
The Scottish House Condition Survey is available on the [Scottish Government website]( http://www.scotland.gov.uk/Topics/Statistics/SHCS/DataAccess). However, this does not necessarily contain all the required variables to create a housing stock for the NHM and additional variables will need to be requested from the SHCS team.

Details of how to request a Special Dataset can be found [here]( http://www.gov.scot/Topics/Statistics/16002/SpecialDatasets).

It contains:

-   external-csv-data.sav, an SPSS file which is presumably extracted
    from the Scottish housing survey.
-   CSV files related to PCDB lookup.
-   A number of csv files
-   SAP-boiler-lups.xlsx, which is probably also related to PCDB lookup.

Wales
-----

source(s)
* [2008 Living in Wales: Property Survey page](http://discover.ukdataservice.ac.uk/catalogue/?sn=7202&type=Data%20catalogue)
* [2008 Living in Wales: Household Survey page](http://discover.ukdataservice.ac.uk/catalogue/?sn=6351&type=Data%20catalogue)

Wales depends on the Living in Wales Data, and the *outputs* from
England.

In produce-raw-wales-data.R, the paths are hard-coded:

-   S:/R&A/Team Resources/DATASETS/Living in Wales Survey/2008 Property
    Survey/DATA/SPSS Files
-   S:/R&A/Team Resources/DATASETS/Living in Wales Survey/2008 Social
    Survey/DATA/SPSS Files

I've included the contents of those folders in this repository for
future use.

Northern Ireland
----------------

We don't create a stock for Northern Ireland at present.
